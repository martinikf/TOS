<div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" id="darkModeSwitch" onchange="swap()">
</div>

<script>
    function swap(){
       if (document.documentElement.getAttribute('data-bs-theme') === 'dark') {
           document.documentElement.setAttribute('data-bs-theme','light');
           localStorage.setItem('DarkMode', 'light');    
       }
       else 
       {
           document.documentElement.setAttribute('data-bs-theme','dark');
           localStorage.setItem('DarkMode', 'dark');
       }
       setSwitch();
    }
       
    function load() {
      if (localStorage.getItem('DarkMode') === 'dark' || localStorage.getItem('DarkMode') === 'light'){
          document.querySelector("html").setAttribute("data-bs-theme", localStorage.getItem('DarkMode'));
      }
      else{
          const colorMode = window.matchMedia("(prefers-color-scheme: dark)").matches ?
            "dark" :
            "light";
          document.querySelector("html").setAttribute("data-bs-theme", colorMode);
      }
      setSwitch();
    }
    
    function setSwitch(){
      document.getElementById("darkModeSwitch").checked = document.querySelector("html").getAttribute("data-bs-theme") === "dark";
    }
        
    
    load()
</script>